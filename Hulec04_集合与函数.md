# Hulec04 - 集合与函数

## 推理规则回顾

### 命题逻辑推理规则
- **否定后件**: (¬q∧(p→q))→¬p
- **假言三段论**: ((p→q)∧(q→r))→(p→r)
- **肯定前件（分离法则）**: (p∧(p→q))→q
- **析取三段论**: (¬p∧(p∨q))→q
- **附加律**: p→(p∨q)
- **简化律**: (p∧q)→p
- **合取律**: ((p)∧(q))→(p∧q)
- **消解律**: ((p∨q)∧(¬p∨r))→(q∨r)

### 量化语句推理规则
- 全称实例化 (UI)
- 全称概括 (UG)
- 存在实例化 (EI)
- 存在概括 (EG)

## 证明定理的方法回顾
- **直接证明**: 通过显示如果p为真则q成立来证明p→q
- **逆否证明**: 显示逆否命题¬q→¬p
- **反证法**: 显示(p∧¬q)与假设矛盾
- **分情况证明**: 对所有可能情况给出证明
- **等价证明**: p↔q被替换为(p→q)∧(q→p)

## 集合

### 集合定义
集合是对象的无序集合。这些对象称为元素或成员。

许多离散结构是用集合构建的：
- 组合
- 关系
- 图

### 示例
- S = {2,3,5,7}
- A = {1,2,3,...,100}
- B = {a² | a是质数}
- C = {2n | n=0,1,2,...}

### 集合表示方法
- 列出（枚举）元素
- 如果枚举困难，使用省略号(...)
- 通过属性定义，使用集合构造器 {x | x具有属性P(P(x))}

## 重要集合

- **自然数**: N = {0,1,2,3,...}
- **整数**: Z = {...,-2,-1,0,1,2,...}
- **正整数**: Z⁺ = {1,2,3,...}
- **有理数**: Q = {p/q | p∈Z, q∈Z, q≠0}
- **实数**: R
- **复数**: C

## 区间表示法和相等性

- [a,b] = {x | a≤x≤b}
- [a,b) = {x | a≤x<b}
- (a,b] = {x | a<x≤b}
- (a,b) = {x | a<x<b}

两个集合A,B相等当且仅当 ∀x(x∈A ↔ x∈B)。

## 罗素悖论

设S = {x | x∉x}，是不属于自身的集合的集合。

- 亨利是一个理发师，他为所有不给自己刮胡子的人刮胡子。亨利给自己刮胡子吗？

**问题**: S∈S 还是 S∉S?
- S∈S?: S不满足条件，所以S∉S
- S∉S?: S包含在集合S中，所以S∈S

**答案**: 公理集合论（超出范围）

## 全集和空集

**全集**是考虑的所有对象的集合，记作U。

**空集**是没有对象的集合，记作∅或{}。

**注意**: ∅ ≠ {∅}

## 文氏图和子集

集合可以使用文氏图可视化。

如果A的每个元素也是B的元素(∀x(x∈A→x∈B))，则称集合A是B的子集，记作A⊆B。

### 真子集和性质
如果A⊆B，但A≠B，则称A是B的真子集，记作A⊂B (∀x(x∈A→x∈B)∧∃x(x∈B∧x∉A))。

**定理**: ∅⊆S

**证明**: 根据定义，需要证明∀x(x∈∅→x∈S)。由于空集不包含任何元素，x∈∅总是假的。那么蕴含式总是真的。

### 子集性质
**定理**: S⊆S

**证明**: 根据定义，需要证明∀x(x∈S→x∈S)。这显然是真的。

**注意**: 两个集合相等当且仅当每个都是另一个的子集。∀x(x∈A ↔ x∈B)

## 基数

设S是一个集合。如果S中恰好有n个不同的元素，其中n是非负整数，则称S是有限集，n是S的基数，记作|S|。

如果集合不是有限的，则它是无限的。

**示例**:
- A = {1,2,3,...,20} (|A|=20)
- B = {1,2,3,...} (无限)
- |∅| = 0

## 幂集

给定集合S，S的幂集是S的所有子集的集合，记作P(S)。

**示例**:
- ∅
- {1}
- {1,2}
- {1,2,3}

**幂集是什么?**

如果S是基数为n的集合，则|P(S)| = 2ⁿ。

**为什么?**

## 元组

有序n元组(a₁,a₂,...,aₙ)是有序集合，其中a₁是其第一个元素，a₂是其第二个元素，依此类推，直到aₙ是其最后一个元素。

**示例**: 二维平面中点的xy坐标

## 笛卡尔积

设A和B是集合。A和B的笛卡尔积，记作A×B，是所有有序对(a,b)的集合，其中a∈A且b∈B。因此A×B = {(a,b) | a∈A ∧ b∈B}

**示例**: A = {1,2}, B = {a,b,c}
A×B = {(1,a),(1,b),(1,c),(2,a),(2,b),(2,c)}

### 多个集合的笛卡尔积
集合A₁,A₂,...,Aₙ的笛卡尔积，记作A₁×A₂×...×Aₙ，是有序n元组(a₁,a₂,...,aₙ)的集合，其中aᵢ∈Aᵢ，i=1,...,n。

A₁×A₂×...×Aₙ = {(a₁,a₂,...,aₙ) | aᵢ∈Aᵢ，i=1,2,...,n}

**示例**: A = {0,1}, B = {1,2}, C = {0,1,2}
A×B×C = {(0,1,0),(0,1,1),(0,1,2),(0,2,0),(0,2,1),(0,2,2),(1,1,0),(1,1,1),(1,1,2),(1,2,0),(1,2,1),(1,2,2)}

### 笛卡尔积性质
- A×B ≠ B×A
- |A×B| = |A| × |B|

笛卡尔积A×B的子集称为从集合A到集合B的关系。

## 集合运算

### 并集
设A和B是集合。集合A和B的并集，记作A∪B，是集合{x | x∈A ∨ x∈B}。

### 交集
集合A和B的交集，记作A∩B，是集合{x | x∈A ∧ x∈B}。

### 补集
如果A是集合，则集合A的补集（相对于U），记作Ā，是集合U-A，Ā = {x∈U | x∉A}。

### 差集
设A和B是集合。A和B的差集，记作A-B，是包含A中不在B中的元素的集合。
A-B = {x | x∈A ∧ x∉B} = A∩Ā

## 不相交集合和并集的基数

如果两个集合A和B的交集为空(A∩B=∅)，则称它们为不相交集合。

|A∪B| = |A| + |B| - |A∩B|

**容斥原理**

## 复习问题

U = {0,1,2,...,10}, A = {1,2,3,4,5}, B = {4,5,6,7,8}

1. A∪B
2. A∩B
3. Ā
4. B̄
5. A-B
6. B-A

## 集合恒等式

### 恒等律
- A∪∅ = A
- A∩U = A

### 支配律
- A∪U = U
- A∩∅ = ∅

### 幂等律
- A∪A = A
- A∩A = A

### 补集律
- Ā̄ = A

### 交换律
- A∪B = B∪A
- A∩B = B∩A

### 结合律
- A∪(B∪C) = (A∪B)∪C
- A∩(B∩C) = (A∩B)∩C

### 分配律
- A∪(B∩C) = (A∪B)∩(A∪C)
- A∩(B∪C) = (A∩B)∪(A∩C)

### 德摩根定律
- A∩B = Ā∪B̄
- A∪B = Ā∩B̄

### 吸收律
- A∪(A∩B) = A
- A∩(A∪B) = A

### 补集律
- A∪Ā = U
- A∩Ā = ∅

集合恒等式可以使用成员表证明。

**证明** A∩B = Ā∪B̄

| A | B | Ā | B̄ | A∩B | Ā∪B̄ |
|---|---|---|---|---|---|
| 1 | 1 | 0 | 0 | 1   | 0    |
| 1 | 0 | 0 | 1 | 0   | 1    |
| 0 | 1 | 1 | 0 | 0   | 1    |
| 0 | 0 | 1 | 1 | 0   | 1    |

### 其他证明方法

**证明2**: 通过显示∀x(x∈A∩B ↔ x∈Ā∪B̄)

**证明3**: 使用集合构造器和逻辑等价
A∩B = {x | x∉A∩B}
= {x | ¬(x∈(A∩B))}
= {x | ¬(x∈A ∧ x∈B)}
= {x | ¬(x∈A) ∨ ¬(x∈B)}
= {x | x∉A ∨ x∉B}
= {x | x∈Ā ∨ x∈B̄}
= {x | x∈Ā∪B̄}
= Ā∪B̄

## 广义并集和交集

集合集合的并集是包含该集合中至少一个集合的成员的元素的集合。
⋃ᵢ₌₁ⁿ Aᵢ = A₁∪A₂∪...∪Aₙ

集合集合的交集是包含该集合中所有集合的成员的元素的集合。
⋂ᵢ₌₁ⁿ Aᵢ = A₁∩A₂∩...∩Aₙ

## 集合的计算机表示

**问题**: 如何在计算机中表示集合？

**一个解决方案**: 在列表中显式存储元素

**更好的解决方案**: 为全集中的每个元素分配位串中的一个位，如果元素在集合中则将位设置为1，否则为0。

**示例**: U = {1,2,3,4,5}
- A = {2,5} → A = 01001
- B = {1,5} → B = 10001

**运算**:
- 并集: A∨B = 11001 → {1,2,5}
- 交集: A∧B = 00001 → {5}
- 补集: Ā = 10110 → {1,3,4}

## 函数

设A和B是两个集合。从A到B的函数，记作f: A→B，是将B的恰好一个元素分配给A的每个元素的赋值。如果b是函数f分配给A的元素a的B的唯一元素，我们写f(a)=b。

### 函数表示
- 显式说明两个集合元素之间的赋值
- 通过公式

**示例1**: A = {1,2,3}, B = {a,b,c}
假设f定义为1↦c, 2↦a, 3↦c。f是函数吗？

**示例2**: A = {1,2,3}, B = {a,b,c}
假设g定义为1↦c, 1↦b, 2↦a, 3↦c。g是函数吗？

**示例3**: A = {0,1,...,9}, B = {0,1,2}
假设h定义为h(x)=x mod 3。h是函数吗？

## 函数的重要集合

设f是从A到B的函数。我们说A是f的定义域，B是f的陪域。

如果f(a)=b，b称为a的像，a是b的原像。

f的值域是A的所有元素的像的集合，记作f(A)。我们也说f将A映射到B。

**示例**: A = {1,2,3}, B = {a,b,c}
1↦c, 2↦a, 3↦c

- c是1的像
- 2是a的原像
- f的定义域是{1,2,3}
- f的陪域是{a,b,c}
- f的值域是{a,c}

## 子集的像

对于函数f: A→B和S⊆A，S的像是B的子集，由S的元素的像组成，记作f(S) (f(S) = {f(s) | s∈S})

**示例**: A = {1,2,3}, B = {a,b,c}, f: 1↦c, 2↦a, 3↦c
设S = {1,3}，f(S)是什么？

## 单射（一对一）函数

函数f称为一对一或单射，当且仅当对于定义域中的所有x,y，f(x)=f(y)蕴含x=y。在这种情况下，f称为单射。

**替代定义**: 函数是一对一的当且仅当x≠y时f(x)≠f(y)。（逆否命题！）

### 单射函数示例
**示例1**: A = {1,2,3}, B = {a,b,c}
定义f为1↦c, 2↦a, 3↦c。f是一对一吗？

**示例2**: 设g: Z→Z，其中g(x)=2x-1。g是一对一吗？

## 满射（到上）函数

函数f称为到上或满射，当且仅当对于每个b∈B，存在元素a∈A使得f(a)=b。在这种情况下，f称为满射。

**替代定义**: 函数是到上当且仅当所有陪域元素都被覆盖(f(A)=B)。

### 满射函数示例
**示例1**: A = {1,2,3}, B = {a,b,c}
定义f为1↦c, 2↦a, 3↦c。f是到上吗？

**示例2**: 设A = {0,1,...,9}, B = {0,1,2}
定义h: A→B为h(x)=x mod 3。h是到上吗？

## 双射函数（一一对应）

函数f称为双射，当且仅当它既是一对一又是到上。

### 双射函数示例
**示例1**: A = {1,2,3}, B = {a,b,c}
定义f为1↦c, 2↦a, 3↦b。f是双射吗？

**示例2**: 定义g: N→N为g(x)=⌊x/2⌋（向下取整函数）。g是双射吗？

## 总结

假设f: A→B。

| 要证明f是单射 | 要证明f不是单射 |
|---------------|-----------------|
| 证明如果f(x)=f(y)对所有x,y∈A，则x=y | 找到特定元素x,y∈A使得x≠y且f(x)=f(y) |

| 要证明f是满射 | 要证明f不是满射 |
|---------------|-----------------|
| 考虑任意元素y∈B并找到元素x∈A使得f(x)=y | 找到特定元素y∈B使得对所有x∈A，f(x)≠y |

## 重要注记

**证明**: "对于函数f: A→B，其中|A|=|B|=n，f是一对一的当且仅当f是到上的。"

**证明**:
- **仅当部分**: 假设f是一对一的。设{x₁,x₂,...,xₙ}是A的元素。那么f(xᵢ)≠f(xⱼ)对于i≠j。因此，|f(A)| = |{f(x₁),...,f(xₙ)}| = n。但|B|=n且f(A)⊆B。因此，f(A)=B。
- **当部分**: 假设f是到上的。设A={x₁,x₂,...,xₙ}是A元素的列表。假设对于某个i≠j，f(xᵢ)=f(xⱼ)。那么，|{f(x₁),...,f(xₙ)}| ≤ n-1。但|f(A)|=|B|=n，矛盾。

## 双射函数

"对于从A到自身的函数f，f是一对一的当且仅当f是到上的，其中A是无限的。"这是真的吗？

**反例**: f: Z→Z，其中f(x)=2x。
f是一对一但不是到上的
- 1↦2
- 2↦4
- 3↦6
3没有原像。

## 实数上的两个函数

设f₁和f₂是从A到R的函数。那么f₁+f₂和f₁f₂也是从A到R的函数，对所有x∈A定义为：
(f₁+f₂)(x) = f₁(x) + f₂(x)
(f₁f₂)(x) = f₁(x)f₂(x)

**示例**: f₁ = x-1 且 f₂ = x³+1
那么(f₁+f₂)(x) = x³+x
(f₁f₂)(x) = x⁴ - x³ + x - 1

## 逆函数

设f: A→B是双射。f的逆是将属于B的元素b分配给A中唯一元素a的函数，使得f(a)=b，记作f⁻¹。因此，f⁻¹(b)=a当f(a)=b。在这种情况下，f称为可逆的。

### 逆函数注记
如果f不是双射，就不可能定义f的逆函数。为什么？

**假设f不是单射**: 逆不是函数：B的一个元素映射到A的两个不同元素

**假设f不是满射**: 逆不是函数：B的一个元素没有被分配给A的元素

### 逆函数示例
**示例1**: f: R→R，其中f(x)=2x-1。逆函数f⁻¹是什么？
f⁻¹(x) = (x+1)/2

**示例2**: f: Z→Z，其中f(x)=2x-1。f可逆吗？
不，因为f不是到上的。

## 下节课内容
- 函数
- 复杂性

## 相关知识点总结
- [[集合论相关内容]] - 集合论知识分块总结
- [[离散数学总览]] - 离散数学整体概述
