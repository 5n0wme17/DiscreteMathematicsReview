# Hulec18 - 偏序关系与图论基础

## 关系的性质

**自反关系**: 集合 A 上的关系 R 称为自反的，如果对于每个元素 a ∈ A，都有 (a,a) ∈ R。

**反自反关系**: 集合 A 上的关系 R 称为反自反的，如果对于每个元素 a ∈ A，都有 (a,a) ∉ R。

**对称关系**: 集合 A 上的关系 R 称为对称的，如果对于所有 a,b ∈ A，只要 (a,b) ∈ R，就有 (b,a) ∈ R。

**反对称关系**: 集合 A 上的关系 R 称为反对称的，如果对于所有 a,b ∈ A，(b,a) ∈ R 且 (a,b) ∈ R 蕴含 a = b。

**传递关系**: 集合 A 上的关系 R 称为传递的，如果对于所有 a,b,c ∈ A，(a,b) ∈ R 且 (b,c) ∈ R 蕴含 (a,c) ∈ R。

## 连通性引理

**引理**: 设 A 是具有 n 个元素的集合，R 是 A 上的关系。如果存在从 a 到 b 的路径且 a ≠ b，那么存在长度 ≤ n-1 的路径。
R* = ⋃ₖ₌₁ⁿ Rᵏ

**定理**: 关系 R 的传递闭包等于连通性关系 R*。

**回顾** 找到传递闭包对应于找到通过有向路径连接的所有元素对。

## 等价关系

**定义** 集合 A 上的关系 R 称为等价关系，如果它是自反的、对称的和传递的。

**定义** 设 R 是集合 A 上的等价关系。与 A 的元素 a 相关的所有元素的集合称为 a 的等价类，记作 [a]_R。当只考虑一个关系时，我们使用符号 [a]。
[a]_R = {b: (a,b) ∈ R}

## 等价类和划分

**定理** 设 R 是集合 A 上的等价关系。那么 R 的所有等价类的并集是 A：
A = ⋃ₐ∈ₐ [a]_R

**定理** 等价类形成 A 的划分。

**定理** 设 {A₁, A₂, ..., Aᵢ, ...} 是 S 的划分。那么存在 S 上的等价关系 R，以集合 Aᵢ 作为其等价类。

## 偏序关系

**定义** 集合 S 上的关系 R 称为偏序关系或偏序，如果它是自反的、反对称的和传递的。集合 S 连同偏序 R 一起称为偏序集或 poset，记作 (S,R)。S 的成员称为 poset 的元素。

**示例**: S = {1,2,3,4,5}, R 表示 "≤" 关系
R 是自反的吗？ ✓
R 是反对称的吗？ ✓
R 是传递的吗？ ✓
R 是偏序关系。

## 偏序关系

**示例**: S = {1,2,3,4,5,6}, R 表示 "|" 关系
R 是自反的吗？ ✓
R 是反对称的吗？ ✓
R 是传递的吗？ ✓
R 是偏序关系。

## 可比性

**定义** 偏序集 (S,≤) 的元素 a 和 b 是可比的，如果 a ≤ b 或 b ≤ a。否则，a 和 b 称为不可比的。

**示例**: S = {1,2,3,4,5,6}, R 表示 "|" 关系
2,4 是可比的，3,5 是不可比的。

## 全序关系

**定义** 如果 (S,≤) 是偏序集且 S 的每两个元素都是可比的，则 S 称为全序集或线性序集，≤ 称为全序或线性序。全序集也称为链。

**示例**: S = {1,2,3,4,5,6}, R 表示 "≤" 关系
S 是一个链。

## 字典序

**定义** 给定两个偏序集 (A₁,≤₁) 和 (A₂,≤₂)，A₁ × A₂ 上的字典序定义为指定 (a₁,a₂) 小于 (b₁,b₂)，即 (a₁,a₂) ≤ (b₁,b₂)，如果 a₁ <₁ b₁ 或者如果 a₁ = b₁ 则 a₂ ≤₂ b₂。

**示例** 考虑小写英文字母的字符串。可以使用字母表中的字母顺序定义字典序。这与字典中使用的顺序相同。

- discreet < discrete
- discreet < discreetness

## 哈斯图

哈斯图是偏序关系的可视化表示，省略了由于自反性和传递性必须存在的边。

**构造哈斯图的步骤**：
从关系的有向图开始：
- 移除由于自反性在每个顶点存在的环 (a,a)
- 移除所有边 (x,y)，对于这些边存在元素 z ∈ S 使得 x ≤ z 且 z ≤ y。这些是由于传递性必须存在的边
- 排列每条边使其初始顶点在终端顶点下方。移除所有箭头，因为所有边都指向其终端顶点向上。

## 哈斯图示例

哈斯图示例展示了如何从完整的有向图简化为哈斯图的过程。

## 最大和最小元素

**定义** a 是偏序集 (S,≤) 中的最大（最小）元素，如果没有 b ∈ S 使得 a < b（b < a）。

**示例** 偏序集 ({2,4,5,10,12,20,25},|) 中的哪些元素是最大的，哪些是最小的？

**定义** a 是偏序集 (S,≤) 的最大（最小）元素，如果对于所有 b ∈ S，有 b ≤ a（a ≤ b）。

## 最大和最小元素

**定义** 设 A 是偏序集 (S,≤) 的子集。u ∈ S 称为 A 的上界（下界），如果对于所有 a ∈ A，有 a ≤ u（u ≤ a）。x ∈ S 称为 A 的最小上界（最大下界），如果 x 是 A 的上界（下界）且小于 A 的任何其他上界（下界）。

**示例** 在偏序集 (Z⁺,|) 中，找出集合 {3,9,12} 和 {1,2,4,5,10} 的最大下界和最小上界（如果存在）。

## 格

**定义** 每对元素都有最小上界和最大下界的偏序集称为格。

**示例** 确定偏序集 ({1,2,3,4,5},|) 和 ({1,2,4,8,16},|) 是否是格。

## 拓扑排序

**动机**: 一个项目由 20 个不同的任务组成。有些任务只能在其他任务完成后才能完成。如何为这些任务找到一个顺序？

**拓扑排序**: 给定偏序关系 R，找到一个全序关系 ≤，使得只要 aRb 就有 a ≤ b。≤ 被称为与 R 兼容。

## 有限偏序集的拓扑排序

**过程** topological_sort(S: 有限偏序集)
k := 1;
当 S ≠ ∅
    aₖ := S 的最小元素
    S := S \ {aₖ}
    k := k + 1
结束当
// {a₁, a₂, ..., aₙ} 是 S 的兼容全序

## 示例

从 B 到 NO 发送消息所需的最少链接数是多少？
3: B-CH-ME-NO

哪个城市有最多的通信链接从它发出？

## 图的定义

**定义**. 图 G = (V,E) 由顶点的非空集合 V（或节点）和边的集合 E 组成。每条边有一个或两个与之关联的顶点，称为其端点。边被称为关联于（或连接）其端点。

## 更多定义

**简单图 vs 多重图 vs 伪图**
简单图：最多有一条边连接每对不同的顶点（vs 多重边）且没有边连接顶点到自身（= 环）

**完全图 Kₙ**
具有 n 个顶点的图，在每对顶点之间有一条边

## 图

图和图论可以用于建模：
- 计算机网络
- 社交网络
- 通信网络
- 信息网络
- 软件设计
- 交通网络
- 生物网络

## 图模型

**计算机网络**
顶点：计算机
边：连接

## 图模型

**社交网络**
顶点：个体
边：关系

友谊图：无向图，如果两个人是朋友（在现实世界、微信或 Facebook 等中），则连接

## 图模型

**影响图**
有向图，如果第一个人可以影响第二个人，则有一条边从一个人指向另一个人

**协作图**
无向图，如果两个人以某种方式协作，则连接

**示例** 好莱坞图，Erdős 数

## Erdős 数

Erdős 数表示数学家与 Paul Erdős 的协作距离。

## 无向图

**定义** 在无向图 G 中，如果 u 和 v 之间有一条边 e，则两个顶点 u,v 被称为相邻的（或邻居）。这样的边 e 被称为与顶点 u 和 v 关联，并且被称为连接 u 和 v。

**定义** 图 G = (V,E) 的顶点 v 的所有邻居的集合，记作 N(v)，称为 v 的邻域。如果 A 是 V 的子集，我们用 N(A) 表示 G 中与 A 中至少一个顶点相邻的所有顶点的集合。

**定义** 无向图中顶点的度是与它关联的边的数量，除了顶点处的环对顶点的度贡献两次。顶点 v 的度记作 deg(v)。

## 无向图

**示例**: 图 G 中顶点的度和邻域是什么？

## 无向图

**定理 1（握手定理）** 如果 G = (V,E) 是具有 m 条边的无向图，那么
2m = ∑ᵥ∈ᵥ deg(v)

**证明**

## 无向图

**定理 2** 无向图具有偶数个奇数度的顶点。

**证明** 设 V₁ 为偶数度的顶点，V₂ 为奇数度的顶点。
2m = ∑ᵥ∈ᵥ deg(v) = ∑ᵥ∈ᵥ₁ deg(v) + ∑ᵥ∈ᵥ₂ deg(v)

## 有向图

**定义** 有向图 G = (V,E) 由 V（顶点的非空集合）和 E（有向边的集合）组成。每条边是有序的顶点对。有向边 (u,v) 被称为从 u 开始并在 v 结束。

**定义** 设 (u,v) 是 G 中的边。那么 u 是边的初始顶点并且与 v 相邻，v 是边的终端顶点并且从 u 相邻。环的初始和终端顶点相同。

## 有向图

**定义** 顶点 v 的入度，记作 deg⁻(v)，是以 v 为终点的边的数量。v 的出度，记作 deg⁺(v)，是以 v 为初始顶点的边的数量。注意，顶点处的环对顶点的入度和出度都贡献 1。

## 有向图

**定理 3** 设 G = (V,E) 是具有有向边的图。那么
|E| = ∑ᵥ∈ᵥ deg⁻(v) = ∑ᵥ∈ᵥ deg⁺(v)

**证明**

## 完全图

在 n 个顶点上的完全图，记作 Kₙ，是在每对不同顶点之间恰好有一条边的简单图。

## 环

对于 n ≥ 3，环 Cₙ 由 n 个顶点 v₁, v₂, ..., vₙ 和边 {v₁,v₂}, {v₂,v₃}, ..., {vₙ₋₁,vₙ}, {vₙ,v₁} 组成。

## 轮

轮 Wₙ 是通过向环 Cₙ 添加一个额外的顶点获得的。

## n维超立方体

n 维超立方体，或 n 立方体，Qₙ 是具有 2ⁿ 个顶点的图，表示所有长度为 n 的位串，其中在两个恰好在一个位位置不同的顶点之间有一条边。

有多少个顶点？有多少条边？

## 二分图

**定义** 简单图 G 是二分的，如果 V 可以划分为两个不相交的子集 V₁ 和 V₂，使得每条边连接 V₁ 中的一个顶点和 V₂ 中的一个顶点。

二分图的等价定义是图，其中可以给顶点着色为红色或蓝色，使得没有两个相邻顶点是相同颜色。

## 二分图

**示例** 证明 C₆ 是二分的。
**示例** 证明 C₃ 不是二分的。

## 完全二分图

**定义** 完全二分图 Kₘ,ₙ 是其顶点集划分为大小为 m 的子集 V₁ 和大小为 n 的子集 V₂ 的图，使得从 V₁ 中的每个顶点到 V₂ 中的每个顶点都有一条边。

## 下节课内容
- 图论

## 相关知识点总结
- [[图论与关系]] - 图论与关系知识分块总结
- [[离散数学总览]] - 离散数学整体概述
