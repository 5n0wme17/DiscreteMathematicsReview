# 计数原理与组合数学

## 概述
组合数学是研究离散对象的计数、排列和组合的数学分支，在计算机科学、概率论和优化问题中有广泛应用。

## 容斥原理

### 基本概念
容斥原理用于计算多个集合的并集大小，避免重复计数。

### 两个集合的容斥原理
|E∪F| = |E| + |F| - |E∩F|

### 三个集合的容斥原理
|E∪F∪G| = |E| + |F| + |G| - |E∩F| - |E∩G| - |F∩G| + |E∩F∩G|

### 一般形式
|∪ᵢ₌₁ⁿ Eᵢ| = ∑ₖ₌₁ⁿ (-1)ᵏ⁺¹ ∑₁≤i₁<i₂<···<iₖ≤n |Eᵢ₁∩Eᵢ₂∩···∩Eᵢₖ|

### 应用：满射函数计数
设A,B是两个集合，|A|=m，|B|=n。
- 从A到B的满射函数数量：nᵐ - ∑ₖ₌₁ⁿ (-1)ᵏ⁺¹ (n选k) (n-k)ᵐ

## 排列与组合

### 排列
- **定义**: 从n个不同元素中取出k个元素进行有序排列
- **公式**: P(n,k) = n!/(n-k)!

### 组合
- **定义**: 从n个不同元素中取出k个元素的无序选择
- **公式**: C(n,k) = P(n,k)/k! = n!/[k!(n-k)!]

### 二项式系数性质
1. **对称性**: (n选k) = (n选n-k)
2. **边界值**: (n选0) = 1, (n选n) = 1
3. **总和**: ∑ᵢ₌₀ⁿ (n选i) = 2ⁿ
4. **递推关系**: (n选k) = (n-1选k-1) + (n-1选k)

## 二项式定理

### 定理表述
对于任何整数n≥0，
(x+y)ⁿ = ∑ᵢ₌₀ⁿ (n选i)xⁿ⁻ⁱyⁱ

### 展开形式
(x+y)ⁿ = (n选0)xⁿ + (n选1)xⁿ⁻¹y + (n选2)xⁿ⁻²y² + ... + (n选n-1)xyⁿ⁻¹ + (n选n)yⁿ

### 应用
- 证明组合恒等式：∑ᵢ₌₀ⁿ (n选i) = 2ⁿ
- 多项式展开计算

## 多项系数与标记问题

### 三项式系数
当 k₁+k₂+k₃ = n 时，三项式系数定义为：
(n选k₁ k₂ k₃) = n!/[k₁!k₂!k₃!]

### 标记问题
假设有k₁个一种标签，k₂个第二种标签，k₃ = n-k₁-k₂个第三种标签，那么有 n!/(k₁!k₂!k₃!) 种方式将这些标签应用到n个对象上。

### 多项式展开
(x+y+z)ⁿ中xᵏ¹yᵏ²zᵏ³的系数就是三项式系数 (n选k₁ k₂ k₃)

## 生日悖论

### 问题描述
假设房间里有n名学生，至少有两个人生日相同的概率是多少？

### 概率计算
- 样本空间大小：|S| = 365ⁿ
- 没有人生日相同的事件B：Pr[B] = ∏ᵢ₌₁ⁿ⁻¹ (1-i/365)
- 至少两人生日相同的事件A：Pr[A] = 1 - Pr[B]

### 近似公式
p(n;H) := 1 - ∏ᵢ₌₁ⁿ⁻¹ (1-i/H) ≈ 1 - e⁻ⁿ²/²ᴴ

其中H=365（一年天数）

### 生日攻击应用
在密码学中，生日悖论用于分析哈希函数碰撞的概率：
n(p;H) ≈ √[2H ln(1/(1-p))]

## 组合证明技巧

### 双射证明
通过建立两个集合之间的双射关系来证明它们大小相等。

### 组合解释
为组合恒等式提供组合意义的解释，如：
(n选k) = (n-1选k-1) + (n-1选k)
的解释：n元素集合的k子集可以分为包含特定元素和不包含特定元素的两类。

## 递推关系与组合计数

### 递推关系应用
许多组合计数问题可以通过建立递推关系来解决，如：
- 斐波那契数列
- 卡特兰数
- 斯特林数

## 组合数学在计算机科学中的应用

### 算法分析
- 排序算法的比较次数分析
- 图算法中的路径计数
- 动态规划中的状态计数

### 密码学
- 密钥空间大小计算
- 碰撞概率分析
- 组合结构设计

### 数据结构
- 树结构的计数
- 哈希表的冲突分析
- 组合优化问题

## 相关链接
- [[集合论相关内容]]
- [[算法与复杂度]]
- [[离散数学总览]]

---
*本笔记基于离散数学课程内容整理，主要参考教材《Discrete Mathematics and Its Applications》*
